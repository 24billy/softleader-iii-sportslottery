<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
 
<struts>
 
  <constant name="struts.devMode" value="true" />
  <constant name="struts.ui.theme" value="simple" />
  <constant name="struts.enable.DynamicMethodInvocation" value="true" />
  
  <package name="default" namespace="/" extends="struts-default" strict-method-invocation="true">
  	

  	
  	<action name="gameManager" class="gameAction" method="manager">
  		<result name="success">/Admin/gameManager.jsp</result>
  		<result name="message" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="select" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>select,insert,delete,update</allowed-methods>
  	</action>
  	
  	<action name="teamManager" class="teamAction" method="manager">
  		<result name="success">/Admin/teamManager.jsp</result>
  		<allowed-methods>insert</allowed-methods>
  	</action>
  	
    <action name="game" class="gameAction" method="execute"> 
    	<result name="success">/Event/match-index.jsp</result>
		<result name="select" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="selectNearDays" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>execute,select,selectNearDays</allowed-methods>
	</action> 
	
	<action name="searchHistory" class="gameAction" method="gameHistory">
		<result name="success" >/History/showInTable.jsp</result>
		<result name="searchHistoryMethod" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>searchHistoryMethod</allowed-methods>
	</action>
	
	<action name="teamsByCountry" class="teamAction" method="teamsByCountry">
		<result name="success" >/History/showInTable.jsp</result>
		<result name="getTeamsByCountry" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>getTeamsByCountry</allowed-methods>
	</action>
	
	<action name="searchHistoryComplex" class="gameAction" method="gameHistoryComplex">
		<result name="success" >/History/historyComplex.jsp</result>
		<result name="searchHistoryComplexData" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>searchHistoryComplexData</allowed-methods>
	</action>
	
	<action name="odds" class="oddsAction" method="execute"> 
		<result name="insert" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="select" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>select,insert</allowed-methods>
	</action> 
	<!-- 檢查帳號重複 -->
	<action name="checkAccount" class="userAction" method="check">
		<result name="success">/Security/Result/success.jsp</result>
		<result name="fail">/Security/Result/fail.jsp</result>
	</action>
	<!-- 註冊帳號 -->
	<action name="addAccount" class="userAction" method="insert">
		<result name="success">/Security/Result/addSuccess.jsp</result>
		<result name="input">/Security/addUser.jsp</result>
	</action>
	<!-- 登入驗證 -->
	<action name="checkLogin" class="userAction" method="login">
		<result name="success">/index.jsp</result>
		<result name="input">/index.jsp</result>
	</action>
	<!-- 更新會員資料 -->
	<action name="userUpdate" class="userAction" method="update">
		<result name="success">/index.jsp</result>
	</action>
	<!-- 使用者點數修改 -->
	<action name="userUpdate" class="userAction" method="coinsUpdate">
		<result name="success">/index.jsp</result>
	</action>
	
	<!-- 回首頁action -->
	<action name="goIndex" class="passToAction" method="goIndex">
		<result name="success">/index.jsp</result>
	</action>
	
	<action name="team" class="teamAction" method="execute">
		<result name="success" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods></allowed-methods>
	</action>
	
	<action name="userSearchOdds" class="lotteryAction" method="userOddsComplex">
		<result name="success" >/Security/userOddsSearch.jsp</result>
		<result name="selectByUser" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>selectByUser</allowed-methods>
	</action>

	<!-- email -->
    <action name="emailer" class="userAction" method="forgetPassword">
         <result name="success">/Security/Email/success.jsp</result>
         <result name="error">/Security/Email/index.jsp</result>
     </action>

	<action name="lottery" class="lotteryAction" method="lottery">
		<result name="success">/Event/lottery.jsp</result>
	</action>

	<!--
	<action name="odds" class="oddsAction" method="execute">
		<result name="success">Json/oddsJson.jsp</result>
		<result name="input">Json/oddsJson.jsp</result>
		<allowed-methods>select,insert,update,delete</allowed-methods>
	</action>
	-->
  </package>
</struts>
