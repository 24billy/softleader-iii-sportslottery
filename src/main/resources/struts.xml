<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
 
<struts>
 
  <constant name="struts.devMode" value="true" />
  <constant name="struts.ui.theme" value="simple" />
  <constant name="struts.enable.DynamicMethodInvocation" value="true" />
  
  <package name="admin" namespace="/admin" extends="struts-default" strict-method-invocation="true">
  
  	<action name="gameAdmin" class="gameAction" method="admin">
  		<result name="success">/admin/gameAdmin.jsp</result>
  		<result name="message" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="select" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>select,insert,delete,update,payout,open,payoutToday,selectLatestFiveRecord</allowed-methods>
  	</action>
  	
  	<action name="teamAdmin" class="teamAction" method="admin">
  		<result name="success">/admin/teamAdmin.jsp</result>
  		<result name="select" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>insert,select,delete</allowed-methods>
  	</action>
  	
  	<action name="oddsAdmin" class="oddsAction" method="insert"> 
		<result name="message" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
	</action> 
  	
  	<action name="adminChart" class="adminLogAction" method="admin">
  		<result name="success">/admin/adminChart.jsp</result>
  		<result name="message" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="select" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>select,insert,delete</allowed-methods>
  	</action>
  	
  	<action name="announceAdmin" class="announceAction" method="admin">
  		<result name="success">/admin/announceAdmin.jsp</result>
  		<result name="message" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="select" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>select,insert,delete,selectLatestFiveRecord</allowed-methods>
  	</action>
  	
  	<action name="login">
  		<result>/admin/login.jsp</result>
  	</action>
  	
  	<action name="">
		<result>/admin/index.jsp</result>
	</action>
	
  </package>
  
  
  
  <package name="default" namespace="/" extends="struts-default" strict-method-invocation="true">
  	
  	<action name="nav">
  		<result name="success">/nav.jsp</result>
  	</action>
  	
    <action name="game" class="gameAction" method="execute"> 
    	<result name="success">/Event/match-index.jsp</result>
		<result name="select" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="selectNearDays" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="selectNearNotEnd" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="selectNotEnd" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>execute,select,selectNearDays,selectNotEnd,selectNearNotEnd</allowed-methods>
	</action> 
	
	<action name="searchHistory" class="gameAction" method="gameHistory">
		<result name="success" >/History/showInTable.jsp</result>
		<result name="searchHistoryMethod" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>searchHistoryMethod</allowed-methods>
	</action>
	
	<action name="teamsByCountry" class="teamAction" method="teamsByCountry">
		<result name="success" >/History/showInTable.jsp</result>
		<result name="getTeamsByCountry" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>getTeamsByCountry</allowed-methods>
	</action>
	
	<action name="searchHistoryComplex" class="gameAction" method="gameHistoryComplex">
		<result name="success" >/History/historyComplex.jsp</result>
		<result name="searchHistoryComplexData" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>searchHistoryComplexData</allowed-methods>
	</action>
	
	<action name="oddsStatisticByTime" class="oddsAction" method="oddsStatisticByTime">
		<result name="success" >/History/TimeStatistics.jsp</result>
		<result name="SuccessOfCountOfOddsBytype" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>countOfOddsBytype</allowed-methods>
	</action>
	
	<action name="odds" class="oddsAction" method="execute"> 
		<result name="message" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<result name="select" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>select,insert</allowed-methods>
	</action> 
	<!-- 檢查帳號重複 -->
	<action name="checkAccount" class="userAction" method="check">
		<result name="success">/Security/Result/success.jsp</result>
		<result name="error">/Security/Result/fail.jsp</result>
	</action>
	<!-- 身分證重複 -->
	<action name="checkUserCardId" class="userAction" method="checkUserCardId">
		<result name="success">/Security/Result/success.jsp</result>
		<result name="error">/Security/Result/fail.jsp</result>
	</action>
	<!-- 檢查Email重複 -->
	<action name="checkEmail" class="userAction" method="checkEmail">
		<result name="success">/Security/Result/success.jsp</result>
		<result name="error">/Security/Result/fail.jsp</result>
	</action>	
	<!-- 註冊帳號 -->
	<action name="addAccount" class="userAction" method="insert">
		<result name="success">/Security/Result/success.jsp</result>
		<result name="error">/Security/Result/fail.jsp</result>
	</action>
	<!-- 登入驗證 -->
	<action name="checkLogin" class="userAction" method="login">
		<result name="success">/Security/Result/success.jsp</result>
		<result name="input">/Security/Result/fail.jsp</result>
	</action>
	<!-- 更新會員資料 -->
	<action name="userUpdate" class="userAction" method="update">
		<result name="success">/index.jsp</result>
		<result name="error"></result>
	</action>
	<!-- 使用者點數修改 -->
	<action name="coinsUpdate" class="userAction" method="coinsUpdate">
		<result name="message" type="stream">
			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
		</result>
	</action>
	
	<!-- 回首頁action -->
	<action name="goIndex" class="passToAction" method="goIndex">
		<result name="success">/index.jsp</result>
	</action>
	
	<action name="goDeposit" class="passToAction" method="goDeposit">
		<result name="input">/MustBeUser/deposit.jsp</result>
	</action>
	
	<action name="team" class="teamAction" method="execute">
		<result name="success" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods></allowed-methods>
	</action>
	
	<action name="userOdds" class="lotteryAction" method="userOddsComplex">
		<result name="success" >/Security/userOddsSearch.jsp</result>
		<result name="selectByUser" type="stream">
			<param name="contentType">appliction/json</param>
			<param name="inputName">inputStream</param>
		</result>
		<allowed-methods>selectByUser</allowed-methods>
	</action>

	<!-- email -->
    <action name="emailer" class="userAction" method="forgetPassword">
         <result name="success">/Security/Email/success.jsp</result>
         <result name="error">/Security/Email/index.jsp</result>
     </action>
    <!-- lottery真實投注 -->
	<action name="lottery" class="lotteryAction" method="lottery">
        <result name="successtoo" >/Event/virtualLottery.jsp</result>
	</action>
    <!-- lottery虛擬投注 -->
    <action name="virtualLottery" class="lotteryAction" method="virtualLottery">
        <result name="successtoo" >/Event/virtualLottery.jsp</result>
    </action>


	<!--
	<action name="odds" class="oddsAction" method="execute">
		<result name="success">Json/oddsJson.jsp</result>
		<result name="input">Json/oddsJson.jsp</result>
		<allowed-methods>select,insert,update,delete</allowed-methods>
	</action>
	-->
	<!-- 用GAMENUM和隊伍名取得此場GAME和之前的COUNT資訊 -->
	<action name="countInfoGraph" class="gameAction" method="countInfoGraph">
  		<result name="countInfoGraph" type="stream">
  			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
  		</result>
  	</action>
  	<action name="teamChartOddTime" class="gameAction" method="teamChartOddTime">
  		<result name="success">/History/teamChartOddTime.jsp</result>
  	</action>
  	
  	<!-- 用隊伍名取得所有COUNT歷史資訊 -->
	<action name="countAllHistoryByTeam" class="gameAction" method="countAllHistoryByTeam">
  		<result name="countAllHistoryByTeam" type="stream">
  			<param name="contentType">text/plain</param>
			<param name="inputName">inputStream</param>
  		</result>
  	</action>
  
  	
  	
  </package>
</struts>
